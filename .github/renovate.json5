{
  $schema: 'https://docs.renovatebot.com/renovate-schema.json',
  extends: [
    'config:recommended',
    ':semanticCommits',
  ],
  timezone: 'America/Los_Angeles',
  schedule: [
    'at any time',
  ],
  prHourlyLimit: 0,
  prConcurrentLimit: 0,
  branchPrefix: 'deps/',
  enabledManagers: [
    'pep621',
    'npm',
    'github-actions',
  ],
  commitMessagePrefix: 'chore(deps):',
  commitMessageAction: 'update',
  commitMessageTopic: '{{{depName}}}',
  commitMessageExtra: 'to {{{newVersion}}}',
  commitBody: '',
  commitBodyTable: false,
  labels: [
    'dependencies',
    'renovate',
    'automerge',
  ],
  dependencyDashboard: true,
  dependencyDashboardTitle: 'ðŸ“¦ Renovate Dependency Dashboard',
  dependencyDashboardAutoclose: true,
  dependencyDashboardApproval: false,
  recreateWhen: 'auto',
  prBodyTemplate: '{{{header}}}{{{table}}}{{{warnings}}}{{{notes}}}{{{changelogs}}}{{{controls}}}{{{footer}}}',
  fetchChangeLogs: 'pr',
  packageRules: [
    {
      matchManagers: [
        'pep621',
        'poetry',
        'pip_requirements',
        'pip-compile',
      ],
      matchUpdateTypes: [
        'minor',
        'patch',
      ],
      groupName: 'python-minor-patch',
      description: 'Python minor/patch updates (auto-merge)',
      automerge: true,
      automergeType: 'pr',
      automergeStrategy: 'squash',
      commitMessagePrefix: 'chore(deps-python):',
      commitMessageTopic: 'python dependencies',
      matchPackageNames: [
        '!eero-api',
        '!eero-prometheus-exporter',
      ],
    },
    {
      matchManagers: [
        'npm',
      ],
      matchUpdateTypes: [
        'minor',
        'patch',
      ],
      groupName: 'npm-minor-patch',
      description: 'npm minor/patch updates (auto-merge)',
      automerge: true,
      automergeType: 'pr',
      automergeStrategy: 'squash',
      commitMessagePrefix: 'chore(deps-npm):',
      commitMessageTopic: 'npm dependencies',
    },
    {
      matchManagers: [
        'github-actions',
      ],
      matchUpdateTypes: [
        'minor',
        'patch',
      ],
      groupName: 'github-actions',
      description: 'GitHub Actions minor/patch updates (auto-merge)',
      automerge: true,
      automergeType: 'pr',
      automergeStrategy: 'squash',
      commitMessagePrefix: 'chore(deps-actions):',
      commitMessageTopic: 'github actions',
    },
    {
      matchUpdateTypes: [
        'major',
      ],
      description: 'Major updates require manual review',
      automerge: false,
      addLabels: [
        'major-update',
        'needs-review',
      ],
      reviewers: [
        'fulviofreitas',
      ],
      commitMessagePrefix: 'chore(deps-major):',
      matchPackageNames: [
        '!eero-api',
        '!eero-prometheus-exporter',
      ],
    },
    {
      matchDepTypes: [
        'devDependencies',
        'dependencies',
      ],
      matchUpdateTypes: [
        'patch',
      ],
      matchPackageNames: [
        '*',
      ],
      prPriority: 20,
      description: 'Security patches get high priority',
    },
    {
      matchPackageNames: [
        'eero-api',
        'eero-prometheus-exporter',
      ],
      matchManagers: [
        'pep621',
        'poetry',
        'pip_requirements',
        'pip-compile',
      ],
      groupName: 'eero-packages',
      description: 'ðŸŸ¢ eero packages update (grouped to resolve dependencies)',
      automerge: false,
      addLabels: [
        'eero-packages',
        'feature',
        'critical',
        'needs-review',
      ],
      reviewers: [
        'fulviofreitas',
      ],
      prPriority: 10,
      commitMessagePrefix: 'feat(deps):',
      commitMessageTopic: 'eero packages',
      prBodyNotes: [
        '## ðŸŸ¢ eero Packages Update',
        '',
        'This PR updates eero ecosystem packages:',
        '- `eero-api` - Core API client for eero network communication',
        '- `eero-prometheus-exporter` - Embedded Prometheus metrics exporter',
        '',
        'These packages are grouped because `eero-prometheus-exporter` depends on `eero-api`.',
        '',
        '### Links',
        '- [eero-api on PyPI](https://pypi.org/project/eero-api/)',
        '- [eero-prometheus-exporter on PyPI](https://pypi.org/project/eero-prometheus-exporter/)',
        '- [eero-api Repository](https://github.com/fulviofreitas/eero-api)',
        '- [eero-prometheus-exporter Repository](https://github.com/fulviofreitas/eero-prometheus-exporter)',
      ],
    },
  ],
  vulnerabilityAlerts: {
    enabled: true,
    labels: [
      'security',
      'critical',
      'automerge',
    ],
    automerge: true,
  },
}
